<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2019-10-23 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20191023" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Eiffel Intelligence Frontend &#x2013; Test Rules User Guide</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

          
                      </head>
        <body class="topBarEnabled">
          
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                                                                                    <a class="brand" href="./" >

                                
                                    Eiffel Intelligence Frontend
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Home">Home</a>
</li>
                  
                      <li class="dropdown-submenu">
                                      <a href="running-eiffel-intelligence-frontend.html"  title="Running Eiffel Intelligence front-end">Running Eiffel Intelligence front-end</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="configuration.html"  title="Configuration">Configuration</a>
</li>
                                  <li>      <a href="docker.html"  title="Run in Docker">Run in Docker</a>
</li>
                              </ul>
            </li>
                  
                      <li>      <a href="GUI-overview.html"  title="GUI overview">GUI overview</a>
</li>
                  
                      <li class="dropdown-submenu">
                                      <a href="subscription-handling.html"  title="Subscription handling">Subscription handling</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="add-subscription.html"  title="Add Subscription">Add Subscription</a>
</li>
                              </ul>
            </li>
                  
                      <li>      <a href="test-rules.html"  title="Test rules">Test rules</a>
</li>
                  
                      <li>      <a href="curl-examples.html"  title="Curl Examples">Curl Examples</a>
</li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Eiffel Intelligence Frontend</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="index.html" title="Home">
        Home</a>
                    <span class="divider">-</span>
      </li>
        <li class="active ">Test Rules User Guide</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-10-23</li>
              <li id="projectVersion" class="pull-right">
                    Version: 2.0.0
        </li>
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Home">
          <span class="none"></span>
        Home</a>
            </li>
                                                                                    
      <li>
  
                          <a href="running-eiffel-intelligence-frontend.html" title="Running Eiffel Intelligence front-end">
          <span class="icon-chevron-right"></span>
        Running Eiffel Intelligence front-end</a>
                  </li>
                
      <li>
  
                          <a href="GUI-overview.html" title="GUI overview">
          <span class="none"></span>
        GUI overview</a>
            </li>
                                                                  
      <li>
  
                          <a href="subscription-handling.html" title="Subscription handling">
          <span class="icon-chevron-right"></span>
        Subscription handling</a>
                  </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Test rules</a>
          </li>
                
      <li>
  
                          <a href="curl-examples.html" title="Curl Examples">
          <span class="none"></span>
        Curl Examples</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Test Rules User Guide</h1>
<p>Clicking on the Test Rules element in the navigator window opens an interface in the work window and interacts with the <tt>/rules/rule-check</tt> end point of Eiffel Intelligence. This interface can be used to test rules on events.</p>
<div class="section">
<h2><a name="a.E2.80.9CTest_Rules.E2.80.9D_Graphical_User_Interface"></a>&#x201c;Test Rules&#x201d; Graphical User Interface</h2>
<p>The graphical user interface for testing rules consists of two panes. Left pane is intended to add the rules and right pane is intended for adding the Eiffel events.</p>
<img src="images/testrules_overview.png" alt="" />

<div class="section">
<h3><a name="Add"></a>Add</h3>
<p>Add buttons are for adding new rules/events. When you click on one of them, a new text area will show up. Then you can write or paste rule/event into it. There can be only one JSON object per text area. This means that it is not allowed to have more than one rule/event per text area.</p></div>
<div class="section">
<h3><a name="Load_From_File"></a>Load From File</h3>
<p>Load buttons are for loading rules/events from external files. The file content should be formatted as JSON objects in a JSON list, ex. <tt>[{Object1}, {Object2}]</tt>. After clicking on the button, it is possible to choose between replacing and appending to already written rules/events. A pop-up window with those two options shows up.</p>
<img src="images/testrules_replace_append.png" alt="" />

<p>After that, you need to choose from which file you want to load rules/events.</p>
<img src="images/testrules_browse_file.png" alt="" />

<p>When the file has been chosen, rules or events are loaded into text areas. In this example events template was loaded and the result can be seen on the image below.</p>
<img src="images/testrules_events.png" alt="" />
</div>
<div class="section">
<h3><a name="Download"></a>Download</h3>
<p>Download buttons are for downloading edited rules/events. This enables to edit rules/events locally and then upload them using above mentioned &#x201c;Load From File&#x201d; buttons.</p></div>
<div class="section">
<h3><a name="Get_Template"></a>Get Template</h3>
<p>By clicking on &#x201c;Get Template&#x201d; buttons you will download rules respective events template. Rule&#xb4;s template contains 3 rules and event&#xb4;s template contains 3 events.</p>
<p><b>Rules Template</b></p>

<div>
<div>
<pre class="source">[
  {
    &quot;TemplateName&quot;: &quot;ARTIFACT_TEST&quot;,
    &quot;Type&quot;: &quot;EiffelArtifactCreatedEvent&quot;,
    &quot;TypeRule&quot;: &quot;meta.type&quot;,
    &quot;IdRule&quot;: &quot;meta.id&quot;,
    &quot;StartEvent&quot;: &quot;YES&quot;,
    &quot;IdentifyRules&quot;: &quot;[meta.id]&quot;,
    &quot;MatchIdRules&quot;: {&quot;_id&quot;: &quot;%IdentifyRules_objid%&quot;},
    &quot;ExtractionRules&quot;: &quot;{ id : meta.id, type : meta.type, time : meta.time, identity : data.identity, fileInformation : data.fileInformation, buildCommand : data.buildCommand }&quot;,
    &quot;DownstreamIdentifyRules&quot;: &quot;links | [?type=='COMPOSITION'].target&quot;,
    &quot;DownstreamMergeRules&quot;: &quot;{\&quot;externalComposition\&quot;:{\&quot;eventId\&quot;:%IdentifyRules%}}&quot;,
    &quot;DownstreamExtractionRules&quot;: &quot;{artifacts: [{id : meta.id}]}&quot;,
    &quot;ArrayMergeOptions&quot;: &quot;&quot;,
    &quot;HistoryIdentifyRules&quot;: &quot;links | [?type=='COMPOSITION'].target&quot;,
    &quot;HistoryExtractionRules&quot;: &quot;{internalComposition:{artifacts: [{id : meta.id}]}}&quot;,
    &quot;HistoryPathRules&quot;: &quot;{artifacts: {id: meta.id}}&quot;,
    &quot;ProcessRules&quot;: null,
    &quot;ProcessFunction&quot;: null
  },
  {
    &quot;TemplateName&quot;: &quot;ARTIFACT_TEST&quot;,
    &quot;Type&quot;: &quot;EiffelArtifactPublishedEvent&quot;,
    &quot;TypeRule&quot;: &quot;meta.type&quot;,
    &quot;IdRule&quot;: &quot;meta.id&quot;,
    &quot;StartEvent&quot;: &quot;NO&quot;,
    &quot;IdentifyRules&quot;: &quot;links | [?type=='ARTIFACT'].target&quot;,
    &quot;MatchIdRules&quot;: {
      &quot;_id&quot;: &quot;%IdentifyRules_objid%&quot;
    },
    &quot;ExtractionRules&quot;: &quot;{ publications :[ { eventId : meta.id, time : meta.time, locations : data.locations  }] }&quot;,
    &quot;ArrayMergeOptions&quot;: &quot;&quot;,
    &quot;HistoryIdentifyRules&quot;: &quot;&quot;,
    &quot;HistoryExtractionRules&quot;: &quot;&quot;,
    &quot;ProcessRules&quot;: null,
    &quot;ProcessFunction&quot;: null
  },
  {
    &quot;TemplateName&quot;: &quot;ARTIFACT_TEST&quot;,
    &quot;Type&quot;: &quot;EiffelConfidenceLevelModifiedEvent&quot;,
    &quot;TypeRule&quot;: &quot;meta.type&quot;,
    &quot;IdRule&quot;: &quot;meta.id&quot;,
    &quot;StartEvent&quot;: &quot;NO&quot;,
    &quot;IdentifyRules&quot;: &quot;links | [?type=='SUBJECT'].target&quot;,
    &quot;MatchIdRules&quot;: {
      &quot;_id&quot;: &quot;%IdentifyRules_objid%&quot;
    },
    &quot;ExtractionRules&quot;: &quot;{confidenceLevels :[{ eventId:meta.id, time:meta.time, name:data.name, value:data.value}]}&quot;,
    &quot;ArrayMergeOptions&quot;: &quot;&quot;,
    &quot;HistoryIdentifyRules&quot;: &quot;&quot;,
    &quot;HistoryExtractionRules&quot;: &quot;&quot;,
    &quot;ProcessRules&quot;: null,
    &quot;ProcessFunction&quot;: null
  }
]
</pre></div></div>

<p><b>Events Template</b></p>

<div>
<div>
<pre class="source">[
  {
    &quot;meta&quot;: {
      &quot;id&quot;: &quot;df4cdb42-1580-4cff-b97a-4d0faa9b2b22&quot;,
      &quot;type&quot;: &quot;EiffelArtifactCreatedEvent&quot;,
      &quot;version&quot;: &quot;1.1.0&quot;,
      &quot;time&quot;: 1521452368194,
      &quot;tags&quot;: [],
      &quot;source&quot;: {
        &quot;domainId&quot;: &quot;someDomain&quot;,
        &quot;host&quot;: &quot;someHost&quot;,
        &quot;name&quot;: &quot;someName&quot;,
        &quot;serializer&quot;: &quot;pkg:maven/com.mycompany.tools/eiffel-serializer@1.0.3&quot;,
        &quot;uri&quot;: &quot;http://host:port/path&quot;
      },
      &quot;security&quot;: {
        &quot;sdm&quot;: {
          &quot;authorIdentity&quot;: &quot;test&quot;,
          &quot;encryptedDigest&quot;: &quot;sample&quot;
        }
      }
    },
    &quot;data&quot;: {
      &quot;identity&quot;: &quot;pkg:maven/com.mycompany.myproduct/artifact-name@2.1.7&quot;,
      &quot;fileInformation&quot;: [
        {
          &quot;classifier&quot;: &quot;&quot;,
          &quot;extension&quot;: &quot;war&quot;
        }
      ],
      &quot;buildCommand&quot;: &quot;trigger&quot;,
      &quot;requiresImplementation&quot;: &quot;NONE&quot;,
      &quot;dependsOn&quot;: [&quot;pkg:maven/com.mycompany.myproduct/my-interface@%5B1.0%2C2.0%29&quot;],
      &quot;implements&quot;: [],
      &quot;name&quot;: &quot;event&quot;,
      &quot;customData&quot;: []
    },
    &quot;links&quot;: [
      {
        &quot;type&quot;: &quot;CAUSE&quot;,
        &quot;target&quot;: &quot;f2752b34-e4d6-4d6e-8ea8-e5e17aa9e1b3&quot;
      }
    ]
  },
  {
    &quot;meta&quot;: {
      &quot;id&quot;: &quot;e3be0cf8-2ebd-4d6d-bf5c-a3b535cd084e&quot;,
      &quot;type&quot;: &quot;EiffelConfidenceLevelModifiedEvent&quot;,
      &quot;version&quot;: &quot;1.1.0&quot;,
      &quot;time&quot;: 1521452400324,
      &quot;tags&quot;: [],
      &quot;source&quot;: {
        &quot;domainId&quot;: &quot;someDomain&quot;,
        &quot;host&quot;: &quot;someHost&quot;,
        &quot;name&quot;: &quot;someName&quot;,
        &quot;serializer&quot;: &quot;pkg:maven/com.mycompany.tools/eiffel-serializer@1.0.3&quot;,
        &quot;uri&quot;: &quot;http://host:port/path&quot;
      },
      &quot;security&quot;: {
        &quot;sdm&quot;: {
          &quot;authorIdentity&quot;: &quot;true&quot;,
          &quot;encryptedDigest&quot;: &quot;true&quot;
        }
      }
    },
    &quot;data&quot;: {
      &quot;name&quot;: &quot;dummy_1_stable&quot;,
      &quot;value&quot;: &quot;SUCCESS&quot;,
      &quot;issuer&quot;: {
        &quot;name&quot;: &quot;&quot;,
        &quot;email&quot;: &quot;&quot;,
        &quot;id&quot;: &quot;&quot;,
        &quot;group&quot;: &quot;&quot;
      },
      &quot;customData&quot;: []
    },
    &quot;links&quot;: [
      {
        &quot;type&quot;: &quot;SUBJECT&quot;,
        &quot;target&quot;: &quot;df4cdb42-1580-4cff-b97a-4d0faa9b2b22&quot;
      }
    ]
  },
  {
    &quot;meta&quot;: {
      &quot;id&quot;: &quot;2acd348d-05e6-4945-b441-dc7c1e55534e&quot;,
      &quot;type&quot;: &quot;EiffelArtifactPublishedEvent&quot;,
      &quot;version&quot;: &quot;1.1.0&quot;,
      &quot;time&quot;: 1521452368758,
      &quot;tags&quot;: [],
      &quot;source&quot;: {
        &quot;domainId&quot;: &quot;someDomain&quot;,
        &quot;name&quot;: &quot;someName&quot;,
        &quot;serializer&quot;: &quot;pkg:maven/com.mycompany.tools/eiffel-serializer@1.0.3&quot;
      }
    },
    &quot;data&quot;: {
      &quot;locations&quot;: [
        {
          &quot;type&quot;: &quot;NEXUS&quot;,
          &quot;uri&quot;: &quot;http://host:port/path&quot;
        }
      ],
      &quot;customData&quot;: []
    },
    &quot;links&quot;: [
      {
        &quot;type&quot;: &quot;ARTIFACT&quot;,
        &quot;target&quot;: &quot;df4cdb42-1580-4cff-b97a-4d0faa9b2b22&quot;
      }
    ]
  }
]
</pre></div></div>
</div>
<div class="section">
<h3><a name="Clear_All_Rules.2FClear_All_Events"></a>Clear All Rules/Clear All Events</h3>
<p>&#x201c;Clear All&#x201d; buttons remove all rules respective events. After clicking on button, a pop-up window shows up and asks for confirmation. After confirming all rules or events are removed.</p>
<img src="images/testrules_clear_all.png" alt="" />
</div>
<div class="section">
<h3><a name="Trash_Can_Button"></a>Trash Can Button</h3>
<p>It is possible to remove a single rule/event by clicking on trash can button next to specific text area.</p></div>
<div class="section">
<h3><a name="Find_Aggregated_Object"></a>Find Aggregated Object</h3>
<p>Clicking on &#x201c;Find Aggregated Object&#x201d; button will start the aggregation process. If rules and events are correct, a pop-up window with the aggregated object will show up on the screen.</p>
<img src="images/testrules_aggregated_object.png" alt="" />
</div></div>
<div class="section">
<h2><a name="Curl"></a>Curl</h2>
<p>It is possible to use curl to get required information. To get information about test rules status, if this functionality is enabled in back-end or not, you can execute command below.</p>

<div>
<div>
<pre class="source">curl -X GET http://&lt;host&gt;:8080/rules/rule-check/testRulePageEnabled?backendurl=&quot;http://127.0.0.1:8090/&quot;
</pre></div></div>

<p>To execute rules on specific events with curl, you need to create a JSON file with rules and events. File should contain:</p>

<div>
<div>
<pre class="source">{
    &quot;listEventsJson&quot;: [
        {Event1},
        {Event2}
        ...
    ],
    &quot;listRulesJson&quot;: [
        {Rule1},
        {Rule2},
        ...
    ]
}
</pre></div></div>

<p>And then run curl command below.</p>

<div>
<div>
<pre class="source">curl -X POST -d &quot;@&lt;path to file&gt;&quot; -H &quot;Content-Type: application/json&quot; http://&lt;host&gt;:8080/rules/rule-check/aggregation?backendurl=&quot;http://127.0.0.1:8090/&quot;
</pre></div></div>
<hr />
<p><b><i>More information about how to write rules can be found <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/blob/master/wiki/markdown/rules.md">here</a>.</i></b></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                          
                </div>

        
                </div>
    </footer>
        </body>
</html>
