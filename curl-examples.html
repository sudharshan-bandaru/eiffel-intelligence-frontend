<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2019-10-23 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20191023" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Eiffel Intelligence Frontend &#x2013; Curl Examples to front-end</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

          
                      </head>
        <body class="topBarEnabled">
          
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                                                                                    <a class="brand" href="./" >

                                
                                    Eiffel Intelligence Frontend
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Home">Home</a>
</li>
                  
                      <li class="dropdown-submenu">
                                      <a href="running-eiffel-intelligence-frontend.html"  title="Running Eiffel Intelligence front-end">Running Eiffel Intelligence front-end</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="configuration.html"  title="Configuration">Configuration</a>
</li>
                                  <li>      <a href="docker.html"  title="Run in Docker">Run in Docker</a>
</li>
                              </ul>
            </li>
                  
                      <li>      <a href="GUI-overview.html"  title="GUI overview">GUI overview</a>
</li>
                  
                      <li class="dropdown-submenu">
                                      <a href="subscription-handling.html"  title="Subscription handling">Subscription handling</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="add-subscription.html"  title="Add Subscription">Add Subscription</a>
</li>
                              </ul>
            </li>
                  
                      <li>      <a href="test-rules.html"  title="Test rules">Test rules</a>
</li>
                  
                      <li>      <a href="curl-examples.html"  title="Curl Examples">Curl Examples</a>
</li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Eiffel Intelligence Frontend</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="index.html" title="Home">
        Home</a>
                    <span class="divider">-</span>
      </li>
        <li class="active ">Curl Examples to front-end</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-10-23</li>
              <li id="projectVersion" class="pull-right">
                    Version: 2.0.0
        </li>
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Home">
          <span class="none"></span>
        Home</a>
            </li>
                                                                                    
      <li>
  
                          <a href="running-eiffel-intelligence-frontend.html" title="Running Eiffel Intelligence front-end">
          <span class="icon-chevron-right"></span>
        Running Eiffel Intelligence front-end</a>
                  </li>
                
      <li>
  
                          <a href="GUI-overview.html" title="GUI overview">
          <span class="none"></span>
        GUI overview</a>
            </li>
                                                                  
      <li>
  
                          <a href="subscription-handling.html" title="Subscription handling">
          <span class="icon-chevron-right"></span>
        Subscription handling</a>
                  </li>
                
      <li>
  
                          <a href="test-rules.html" title="Test rules">
          <span class="none"></span>
        Test rules</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Curl Examples</a>
          </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Curl Examples to front-end</h1>
<div class="section">
<h2><a name="Introduction"></a>Introduction</h2>
<p>The front-end has a bridge functionality that is built in as a part of the front-end&#x2019;s web server and handles requests coming from the web GUI towards any of the back-ends configured. The <tt>/backend</tt> endpoint is the only additional endpoint which does not exist in <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence">Eiffel Intelligence backend</a>. The front-end may also be used by other tools such as CURL or any kind of program that can make HTTP(S) requests. Below are some examples of using CURL towards different endpoints, together with example responses. Most endpoints are also documented in the <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/tree/master/wiki/markdown">Eiffel Intelligence backend repository</a></p>
<p><b>Note</b>: If you have multiple url parameters, you need to add quotation mark around the entire query. For example:</p>

<div>
<div>
<pre class="source">curl -X GET &quot;http://localhost:8080/endpoint?varible1=1&amp;varible2=2&quot;
</pre></div></div>

<div class="section">
<div class="section">
<h4><a name="Quick_access_to_endpoints:"></a>Quick access to endpoints:</h4>
<ul>

<li><a href="#auth">/auth</a></li>
<li><a href="#status">/status</a></li>
<li><a href="#backend">/backend</a></li>
<li><a href="#download">/download</a></li>
<li><a href="#information">/information</a></li>
<li><a href="#query">/query</a></li>
<li><a href="#rules">/rules</a></li>
<li><a href="#subscriptions">/subscriptions</a></li>
</ul></div>
<div class="section">
<h4><a name="Specified_back-end"></a>Specified back-end</h4>
<p>As a user of the front-end you may want to specify your own back-end URL if you do not want to use the default back-end. This is possible to do by injecting the back-end URL as a query parameter. The parameters key should be <tt>backendurl</tt> then enter the full HTTP URL you wish to use. This back-end instance does not have to be specified in the list of available instances.</p>
<p>An example of a way to add such parameter is examplified below, note that the &#x201c;?&#x201d; indicates that parameters has been added to the front-end url. <tt>localhost:8080</tt> is the front-end url, and we want to access the context path /auth but on URL <tt>http://127.0.0.1:8090/</tt> that is the back-end we wish to use.</p>

<div>
<div>
<pre class="source">curl -X GET http://localhost:8080/auth?backendurl=&quot;http://127.0.0.1:8090/&quot;
</pre></div></div>

<p>Example with Tomcat:</p>

<div>
<div>
<pre class="source">curl -X GET http://localhost:8080/eifrontend/auth?backendurl=&quot;http://127.0.0.1:8090/eibackend/&quot;
</pre></div></div>

<p>This way of entering the <tt>backendurl</tt> may be the easiest way. It works with GET, POST and PUT requests. Currently entering just a back-end name is not supported.</p>
<p><b>Note: It is not possible to add the <tt>backendurl</tt> parameter as a JSON parameter.</b></p></div></div></div>
<div class="section">
<h2><a name="a.2Fauth"></a><a name="auth" id="auth"></a> /auth</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/auth</td>
        
<td>GET</td>
        
<td>Check if LDAP security is enabled</td>
    </tr>
    
<tr class="a">
        
<td>/auth/login</td>
        
<td>GET</td>
        
<td>Login to EI with a username and password</td>
    </tr>
    
<tr class="b">
        
<td>/auth/logout</td>
        
<td>GET</td>
        
<td>Logout from EI</td>
    </tr>
</table>

<p>A curl call with the command:</p>

<div>
<div>
<pre class="source">curl -X GET http://localhost:8080/auth
</pre></div></div>

<p>Gives the response data <tt>{&quot;security&quot;:false}</tt>. The <tt>security</tt> parameter would be true if LDAP was enabled.</p>
<p>It is also possible to login and logout using curl. The below command provides the <tt>-u</tt> flag followed by a username.</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; -u &lt;user&gt; localhost:8080/auth/login
</pre></div></div>

<p>It is possible to provide both username and password directly in the request, as seen below.</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; -u &lt;user&gt;:&lt;password&gt; localhost:8080/auth/login
</pre></div></div>

<p>More information and examples can be found in the <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/blob/master/wiki/markdown/authentication.md">EI back-end documentation</a></p></div>
<div class="section">
<h2><a name="a.2Fstatus"></a><a name="status" id="status"></a> /status</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/status</td>
        
<td>GET</td>
        
<td>Get back-end status including status of services back-end is dependent on.</td>
    </tr>
</table>

<div class="section">
<div class="section">
<h4><a name="Some_curl_examples"></a>Some curl examples</h4>
<p>This command would return a JSON object containing the status of the back-end and servers back-end is dependent on..</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; http://localhost:8080/status
</pre></div></div>
</div></div></div>
<div class="section">
<h2><a name="a.2Fbackend"></a><a name="backend" id="backend"></a> /backend</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/backend</td>
        
<td>GET</td>
        
<td>Retrieves a json list of available back-end instances</td>
    </tr>
    
<tr class="a">
        
<td>/backend</td>
        
<td>POST</td>
        
<td>Adds one back-end instance</td>
    </tr>
    
<tr class="b">
        
<td>/backend</td>
        
<td>DELETE</td>
        
<td>Deletes a given backend instance</td>
    </tr>
</table>

<p>While the web GUI may use the back-end instances list and select different back-ends in an easy way, a user that uses the front-end without the included web GUI may need to specify a back-end URL. This may be done by adding a <tt>backendurl</tt> parameter to the request.</p>
<p>Note that for users where the front-end and back-end is running with the help of Tomcat there will be context paths used.</p>
<div class="section">
<div class="section">
<h4><a name="Default_back-end"></a>Default back-end</h4>
<p>The front-end can be configured to use a default back-end, this means that if no back-end is specified when making a HTTP request to the front-end the default back-end will be used. If you want to see a list of back-ends and see if there is a default back-end set, you may use the command:</p>
<div class="section">
<div class="section">
<h6><a name="Example_GET_request_using_curl:"></a>Example GET request using curl:</h6>

<div>
<div>
<pre class="source">curl -X GET http://*front-end-url*/*context-path-if-any*/backend
</pre></div></div>
</div>
<div class="section">
<h6><a name="Example_GET_request_using_curl.2C_with_host.2C_port_using_Tomcat:"></a>Example GET request using curl, with host, port using Tomcat:</h6>

<div>
<div>
<pre class="source">curl -X GET http://localhost:8080/eifrontend/backend
</pre></div></div>
</div>
<div class="section">
<h6><a name="Example_GET_request_using_curl.2C_with_EI_default_settings:"></a>Example GET request using curl, with EI default settings:</h6>

<div>
<div>
<pre class="source">curl -X GET http://localhost:8080/backend
</pre></div></div>

<p>The default back-end should have the key <tt>defaultBackend</tt> set to <tt>true</tt>. If the JSON list ends up empty there are no back-ends specified in the front-end. If there is no JSON object with the key set to true there is no default back-end.</p>
<p>In the response list all objects have a key <tt>active</tt> set to <tt>true</tt> or <tt>false</tt>. This key reveals which back-end instance has been selected in the GUI. A curl commands shows the default back-end as the <tt>active</tt> one. If no default back-end exists, the active should usually be the first object in the list.</p>
<p>If the back-end list lacks a default back-end one may be added by using a HTTP POST request. The injected object should be specified in JSON and look like the example below.</p>

<div>
<div>
<pre class="source">[
    {&quot;name&quot;:&quot;Any default name&quot;, &quot;host&quot;:&quot;*Your back-end url*&quot;, &quot;port&quot;:8090, &quot;contextPath&quot;:&quot;&quot;, &quot;https&quot;:false, &quot;defaultBackend&quot;:true}
]
</pre></div></div>

<p>You may add a back-end using for example CURL:</p>

<div>
<div>
<pre class="source">curl -d '{&quot;name&quot;:&quot;My Default Back-End&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:true}' \
    -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/*front-end-context-path*/backend
</pre></div></div>

<p><b>Note:</b> <tt>name</tt> must be unique.</p>
<p>Only one back-end instance can be added at a time. Even with different names all elements must be unique, you may not have two or more elements with the same <tt>host</tt>, <tt>port</tt>, <tt>contextPath</tt> or <tt>https</tt> value, one of these three keys must be different. Only the <tt>contextPath</tt> key may be left empty.</p></div>
<div class="section">
<h6><a name="Example_of_valid_back-end_list:"></a>Example of <b>valid</b> back-end list:</h6>

<div>
<div>
<pre class="source">[
    {&quot;name&quot;:&quot;My Back-End&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:true},
    {&quot;name&quot;:&quot;My Back-End 2&quot;,&quot;host&quot;:&quot;local-toast&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:false},
    {&quot;name&quot;:&quot;My Back-End 3&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8091,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:false},
    {&quot;name&quot;:&quot;My Back-End 4&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;/back-end&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:false},
    {&quot;name&quot;:&quot;My Back-End 5&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:true,&quot;defaultBackend&quot;:false}
]
</pre></div></div>

<p>All entries has different <tt>names</tt>. Second entry has different <tt>host</tt>, third entry has different <tt>port</tt>, third entry has different <tt>contextPath</tt>, fifth entry has <tt>https</tt> changed to true.</p></div>
<div class="section">
<h6><a name="Example_of_invalid_back-end_list:"></a>Example of <b>invalid</b> back-end list:</h6>

<div>
<div>
<pre class="source">[
    {&quot;name&quot;:&quot;My Back-End&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:true},
    {&quot;name&quot;:&quot;My Back-End&quot;,&quot;host&quot;:&quot;local-toast&quot;,&quot;port&quot;:12345,&quot;contextPath&quot;:&quot;/my-path&quot;,&quot;https&quot;:true,&quot;defaultBackend&quot;:false},
    {&quot;name&quot;:&quot;My Back-End 2&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:false}
]
</pre></div></div>

<p>The second entry is invalid due to having the same name as the first entry. The third entry is invalid due to having the same value in all fields as the first entry.</p></div></div></div>
<div class="section">
<h4><a name="Deleting_a_back-end_instance_via_curl"></a>Deleting a back-end instance via curl</h4>
<p>It is possible to delete a back-end instance using curl. The full JSON object has to be specified to identify which instance should be deleted. It is not possible to delete a default back-end instance.</p>

<div>
<div>
<pre class="source">{&quot;name&quot;:&quot;My Back-End&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;port&quot;:8090,&quot;contextPath&quot;:&quot;&quot;,&quot;https&quot;:false,&quot;defaultBackend&quot;:false},
</pre></div></div>

<p>In the below command the JSON object is put in a file and sent along with the request.</p>

<div>
<div>
<pre class="source">curl -X DELETE --data @data.json localhost:8080/backend
</pre></div></div>
</div></div></div>
<div class="section">
<h2><a name="a.2Fdownload"></a><a name="download" id="download"></a>/download</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/download/subscriptionsTemplate</td>
        
<td>GET</td>
        
<td>Downloads a template with several predefined subscriptions</td>
    </tr>
    
<tr class="a">
        
<td>/download/rulesTemplate</td>
        
<td>GET</td>
        
<td>Downloads a template with predefined rules</td>
    </tr>
    
<tr class="b">
        
<td>/download/eventsTemplate</td>
        
<td>GET</td>
        
<td>Downloads a template with predefined events</td>
    </tr>
</table>

<p>The EI front-end supports these endpoints. More information can be found in the <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/blob/master/wiki/markdown/download-files.md">EI back-end documentation</a></p>
<div class="section">
<div class="section">
<h4><a name="Some_curl_examples"></a>Some curl examples</h4>
<p>This command would return a list of rules.</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; http://localhost:8080/download/rulesTemplate
</pre></div></div>

<p>This command returns a list of predefined template events.</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; http://localhost:8080/download/eventsTemplate
</pre></div></div>

<p>This command returns a list of several subscriptions. It is also possible to specify a file in which to save the downloaded objects in to.</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; localhost:8080/download/subscriptionsTemplate --output myFile.json
</pre></div></div>
</div></div></div>
<div class="section">
<h2><a name="a.2Finformation"></a><a name="information" id="information"></a>/information</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/information</td>
        
<td>GET</td>
        
<td>Fetches all information about the back-end and its components</td>
    </tr>
</table>

<p>This endpoint support <tt>GET</tt> requests, which returns information about EI back-end and connected components. The response is a json object containing all the connected components and data about them.</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; localhost:8080/information
</pre></div></div>
</div>
<div class="section">
<h2><a name="a.2Fquery"></a><a name="query" id="query"></a>/query</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/queryAggregatedObject</td>
        
<td>GET</td>
        
<td>Download a subscription template json file</td>
    </tr>
    
<tr class="a">
        
<td>/queryMissedNotifications</td>
        
<td>GET</td>
        
<td>Queries any missed notifications</td>
    </tr>
    
<tr class="b">
        
<td>/query</td>
        
<td>POST</td>
        
<td>Free style query; user specified queries</td>
    </tr>
</table>

<p>Example curl commands to these endpoints <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/blob/master/wiki/markdown/query.md">can be found here</a> and <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/blob/master/wiki/markdown/query-aggregated-objects.md">here</a></p></div>
<div class="section">
<h2><a name="a.2Frules"></a><a name="rules" id="rules"></a>/rules</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/rules</td>
        
<td>GET</td>
        
<td>Get the current rules content</td>
    </tr>
    
<tr class="a">
        
<td>/rules/rule-check/testRulePageEnabled</td>
        
<td>GET</td>
        
<td>Check if TestRules is enabled in the back-end</td>
    </tr>
    
<tr class="b">
        
<td>/rules/rule-check/aggregation</td>
        
<td>POST</td>
        
<td>Takes rules and events from an object and returns an aggregated object</td>
    </tr>
</table>

<p>For these endpoints to be reachable the Eiffel Intelligence back-end <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/blob/master/src/main/resources/application.properties">needs to be configured</a> with <tt>testaggregated.enabled: true</tt>. The below command would result in a json response of <tt>{&quot;status&quot;:true}</tt> if this functionality is enabled.</p>

<div>
<div>
<pre class="source">curl -X GET -H &quot;Content-type: application/json&quot; localhost:8080/rules/rule-check/testRulePageEnabled
</pre></div></div>

<p>Example curl commands to these endpoints <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/blob/master/wiki/markdown/running-rules-on-objects.md">can be found here</a></p></div>
<div class="section">
<h2><a name="a.2Fsubscriptions"></a><a name="subscriptions" id="subscriptions"></a>/subscriptions</h2>

<table border="0" class="table table-striped">
    
<tr class="a">
        
<th>Endpoint</th>
        
<th>Type</th>
        
<th>Explanation</th>
    </tr>
    
<tr class="b">
        
<td>/subscriptions</td>
        
<td>GET</td>
        
<td>
            Fetches all available subscriptions from the back-end.
            Selected subscriptions can be fetched by using the optional subscriptionNames parameter
            and a comma separated list e.g. subscriptionNames={name1},{name2}
        </td>
    </tr>
        
<tr class="a">
        
<td>/subscriptions/{subscriptionName}</td>
        
<td>GET</td>
        
<td>Fetches information about a single subscription from the back-end</td>
    </tr>
    
<tr class="b">
        
<td>/subscriptions</td>
        
<td>POST</td>
        
<td>Request to add one (or more) new subscription(s) included in JSON format</td>
    </tr>
    
<tr class="a">
        
<td>/subscriptions</td>
        
<td>PUT</td>
        
<td>Request to update one (or more) subscription object(s) included in JSON format</td>
    </tr>
        
<tr class="b">
        
<td>/subscriptions</td>
        
<td>DELETE</td>
        
<td>
            Selected subscriptions can be deleted by using the required subscriptionNames parameter
            and a comma separated list e.g. subscriptionNames={name1},{name2}
        </td>
    </tr>
    
<tr class="a">
        
<td>/subscriptions/{subscriptionName}</td>
        
<td>DELETE</td>
        
<td>Deletes a single (or multiple) subscription(s) from the back-end</td>
    </tr>
</table>

<p>The <tt>/subscriptions</tt> endpoint can be called with <tt>GET</tt>, <tt>POST</tt>, <tt>PUT</tt> and <tt>DELETE</tt>. More information, and examples, on the <tt>/subscriptions</tt> API can be found <a class="externalLink" href="https://github.com/eiffel-community/eiffel-intelligence/tree/master/wiki/markdown/subscription-API.md">here</a>.</p>
<p>A <tt>POST</tt> request with subscriptions in a file may look as the following example.</p>

<div>
<div>
<pre class="source">curl -X POST -d @file_containing_list_of_json_objects -H &quot;Content-Type: application/json&quot; \
    http://localhost:8080/subscriptions?backendurl=&quot;http://127.0.0.1:8090/&quot;
</pre></div></div>

<p>Here is an example using this endpoint and the result it gives in case we have the templated subscriptions added. The <tt>backendurl</tt> parameters is passed in to use a specified instance instead of the default back-end instance.</p>

<div>
<div>
<pre class="source">curl -X GET http://localhost:8080/subscriptions?backendurl=&quot;http://127.0.0.1:8090/&quot;
</pre></div></div>

<p>The back-end used is running on localhost and port 8080. EI front-end forwards the request to 127.0.0.1 and port 8090 as requested in the query parameters and the result is as follows:</p>

<div>
<div>
<pre class="source">[
    {
        &quot;aggregationtype&quot;:&quot;eiffel-intelligence&quot;,
        &quot;created&quot;:1543577879242,
        &quot;notificationMeta&quot;:&quot;http://eiffel-jenkins1:8080/job/ei-artifact-triggered-job/build&quot;,
        &quot;notificationType&quot;:&quot;REST_POST&quot;,
        &quot;restPostBodyMediaType&quot;:&quot;application/x-www-form-urlencoded&quot;,
        &quot;notificationMessageKeyValues&quot;:[
            {
                &quot;formkey&quot;:&quot;json&quot;,
                &quot;formvalue&quot;:&quot;{parameter: [{ name: 'jsonparams', value : to_string(@) }]}&quot;
            }
        ],
        &quot;repeat&quot;:false,
        &quot;requirements&quot;:[
            {
                &quot;conditions&quot;:[
                    {
                        &quot;jmespath&quot;: &quot;split(identity, '/') | [1] =='com.mycompany.myproduct'&quot;
                    }
                ]
            }
        ],
        &quot;subscriptionName&quot;:&quot;Subscription1&quot;,
        &quot;userName&quot;:&quot;functionalUser&quot;,
        &quot;password&quot;:&quot;&quot;,
        &quot;ldapUserName&quot;:&quot;&quot;,
        &quot;notificationMessageKeyValuesAuth&quot;:[],
        &quot;_id&quot;:{
            &quot;$oid&quot;:&quot;5c012117aeb9d61aed160a2c&quot;
        },
        &quot;authenticationType&quot;:&quot;BASIC_AUTH&quot;
    },
    {
        &quot;aggregationtype&quot;:&quot;eiffel-intelligence&quot;,
        &quot;created&quot;:1543577879265,
        &quot;notificationMeta&quot;:&quot;http://eiffel-jenkins2:8080/job/ei-artifact-triggered-job/build&quot;,
        &quot;notificationType&quot;:&quot;REST_POST&quot;,
        &quot;restPostBodyMediaType&quot;:&quot;application/x-www-form-urlencoded&quot;,
        &quot;notificationMessageKeyValues&quot;:[
            {
                &quot;formkey&quot;:&quot;json&quot;,
                &quot;formvalue&quot;:&quot;{parameter: [{ name: 'jsonparams', value : to_string(@) }]}&quot;
            }
        ],
        &quot;repeat&quot;:false,
        &quot;requirements&quot;:[
            {
                &quot;conditions&quot;:[
                    {
                        &quot;jmespath&quot;: &quot;split(identity, '/') | [1] =='com.mycompany.myproduct'&quot;
                    }
                ]
            }
        ],
        &quot;subscriptionName&quot;:&quot;Subscription2&quot;,
        &quot;password&quot;:&quot;&quot;,
        &quot;ldapUserName&quot;:&quot;&quot;,
        &quot;notificationMessageKeyValuesAuth&quot;:[],
        &quot;_id&quot;:{
            &quot;$oid&quot;:&quot;5c012117aeb9d61aed160a2d&quot;
        },
        &quot;authenticationType&quot;:&quot;NO_AUTH&quot;
    },
    {
        &quot;aggregationtype&quot;:&quot;eiffel-intelligence&quot;,
        &quot;created&quot;:1543577879280,
        &quot;notificationMeta&quot;:&quot;mymail@company.com&quot;,
        &quot;notificationType&quot;:&quot;MAIL&quot;,
        &quot;restPostBodyMediaType&quot;:&quot;&quot;,
        &quot;notificationMessageKeyValues&quot;:[
            {
                &quot;formkey&quot;:&quot;&quot;,
                &quot;formvalue&quot;:&quot;{mydata: [{ fullaggregation : to_string(@) }]}&quot;
            }
        ],
        &quot;repeat&quot;:false,
        &quot;requirements&quot;:[
            {
                &quot;conditions&quot;:[
                    {
                        &quot;jmespath&quot;: &quot;split(identity, '/') | [1] =='com.mycompany.myproduct'&quot;
                    }
                ]
            }
        ],
        &quot;subscriptionName&quot;:&quot;Subscription3_Mail_Notification&quot;,
        &quot;password&quot;:&quot;&quot;,
        &quot;ldapUserName&quot;:&quot;&quot;,
        &quot;notificationMessageKeyValuesAuth&quot;:[],
        &quot;_id&quot;:{
            &quot;$oid&quot;:&quot;5c012117aeb9d61aed160a2e&quot;
        },
        &quot;authenticationType&quot;:&quot;NO_AUTH&quot;
    }
]
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                          
                </div>

        
                </div>
    </footer>
        </body>
</html>
